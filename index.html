<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="">
</head>
<body>
    
    <div  id='map'  style='height:380px;'  />  
    <link  rel="stylesheet"  href="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.css"  />  
    <script  src="http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js"></script>  
      
    <script>
    
        // // let x = document.getElementById("gps");
        function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition();
        } else {
            // x.innerHTML = "Геолокация не се поддържа от браузъра.";
        }
        }

        // function showPosition(position) {
        // x.innerHTML = "Latitude: " +  +
        // "<br>Longitude: " + 
        // }

        let x = position.coords.latitude;
        let y = position.coords.longitude;
    
        let  OSM_URL  =  'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';  
        let  OSM_ATTRIB  =  '&copy;  <a  href="http://openstreetmap.org/copyright">OpenStreetMap</a>  contributors';  
        let  osmLayer  =  L.tileLayer(OSM_URL,  {attribution:  OSM_ATTRIB});  
      
        let  WAQI_URL    =  "https://tiles.waqi.info/tiles/usepa-aqi/{z}/{x}/{y}.png?token=_TOKEN_ID_";  
        let  WAQI_ATTR  =  'Air  Quality  Tiles  &copy;  <a  href="http://waqi.info">waqi.info</a>';  
        let  waqiLayer  =  L.tileLayer(WAQI_URL,  {attribution:  WAQI_ATTR});  
      
        let  map  =  L.map('map').setView([x,  y],  10);  
        map.addLayer(osmLayer).addLayer(waqiLayer);  
    </script>

</body>
</html>
